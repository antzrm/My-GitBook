# GraphQL API

{% code overflow="wrap" fullWidth="true" %}
```sh
https://graphql-kit.com/graphql-voyager/

######## FINDING GRAPHQL ENDPOINTS
# Universal queries
If you send query{__typename}
it will include the string {"data": {"__typename": "query"}} somewhere in its response
# Common endpoint names
    /graphql
    /api
    /api/graphql
    /graphql/api
    /graphql/graphql
    appending /v1 to the path
# NOTE: GraphQL services will often respond to any non-GraphQL request with a "query not present" or similar error
# Request methods
POST requests that have a content-type of application/json or GET/POST w/ content-type of x-www-form-urlencoded

######### EXPLOITING UNSANITIZED ARGUMENTS
For example, the query below requests a product list for an online shop:
    #Example product query
    query {
        products {
            id
            name
            listed
        }
    }
The product list returned contains only listed products.
    #Example product response
    {
        "data": {
            "products": [
                {
                    "id": 1,
                    "name": "Product 1",
                    "listed": true
                },
                {
                    "id": 2,
                    "name": "Product 2",
                    "listed": true
                },
                {
                    "id": 4,
                    "name": "Product 4",
                    "listed": true
                }
            ]
        }
    }
 The product list returned contains only listed products.
    #Example product response
    {
        "data": {
            "products": [
                {
                    "id": 1,
                    "name": "Product 1",
                    "listed": true
                },
                {
                    "id": 2,
                    "name": "Product 2",
                    "listed": true
                },
                {
                    "id": 4,
                    "name": "Product 4",
                    "listed": true
                }
            ]
        }
    }
 By querying the ID of the missing product, we can get its details, even though it is not listed on the shop and was not returned by the original product query.
    #Query to get missing product
    query {
        product(id: 3) {
            id
            name
            listed
        }
    }
    #Missing product response
    {
        "data": {
            "product": {
            "id": 3,
            "name": "Product 3",
            "listed": no
            }
        }
    }
    

########## DISCOVERING SCHEMA INFORMATION
...
```
{% endcode %}
